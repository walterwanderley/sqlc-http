openapi: 3.0.3
info:
  contact:
      name: sqlc-http
      url: https://github.com/walterwanderley/sqlc-http
  description: booktest Services
  title: booktest
  version: 0.0.1
  
  
tags:
  - books
  
  
paths:
  /author:
    post:
      summary: CreateAuthor
      tags:
          - books
      
      
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
      
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/booksAuthor"
          
        "400":    
          description: Bad request
        "500":
          description: Internal server error    
    
  /author/{author_id}:
    get:
      summary: GetAuthor
      tags:
          - books
      
      
      parameters:
        - name: author_id
          in: path
          schema:
            type: integer
            format: int32
      
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/booksAuthor"
          
        "400":    
          description: Bad request
        "500":
          description: Internal server error    
    
  /book:
    post:
      summary: CreateBook
      tags:
          - books
      
      
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                author_id:
                  type: integer
                  format: int32
                isbn:
                  type: string
                book_type:
                  type: string
                title:
                  type: string
                year:
                  type: integer
                  format: int32
                available:
                  type: string
                  format: date-time
                tags:
                  type: string
      
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/booksBook"
          
        "400":    
          description: Bad request
        "500":
          description: Internal server error    
    put:
      summary: UpdateBook
      tags:
          - books
      
      
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                tags:
                  type: string
                book_type:
                  type: string
                book_id:
                  type: integer
                  format: int32
      
      responses:
        "200":
          description: OK
          
        "400":    
          description: Bad request
        "500":
          description: Internal server error    
    
  /book-isbn:
    put:
      summary: UpdateBookISBN
      tags:
          - books
      
      
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                tags:
                  type: string
                book_id:
                  type: integer
                  format: int32
                isbn:
                  type: string
      
      responses:
        "200":
          description: OK
          
        "400":    
          description: Bad request
        "500":
          description: Internal server error    
    
  /book/{book_id}:
    delete:
      summary: DeleteBook
      tags:
          - books
      
      
      parameters:
        - name: book_id
          in: path
          schema:
            type: integer
            format: int32
      
      responses:
        "200":
          description: OK
          
        "400":    
          description: Bad request
        "500":
          description: Internal server error    
    get:
      summary: GetBook
      tags:
          - books
      
      
      parameters:
        - name: book_id
          in: path
          schema:
            type: integer
            format: int32
      
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/booksBook"
          
        "400":    
          description: Bad request
        "500":
          description: Internal server error    
    
  /books-by-tags:
    post:
      summary: BooksByTags
      tags:
          - books
      
      
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                type: string
                format: 
      
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/booksBooksByTagsRow"
          
        "400":    
          description: Bad request
        "500":
          description: Internal server error    
    
  /books-by-title-year:
    get:
      summary: BooksByTitleYear
      tags:
          - books
      
      
      parameters:
        - name: title
          in: query
          schema:
            type: string
        - name: year
          in: query
          schema:
            type: integer
            format: int32
      
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/booksBook"
          
        "400":    
          description: Bad request
        "500":
          description: Internal server error    
    
  
components:
  schemas: 
    booksAuthor:
      type: object
      properties:
        author_id:
          type: integer
          format: int32
        name:
          type: string
    booksBook:
      type: object
      properties:
        book_id:
          type: integer
          format: int32
        author_id:
          type: integer
          format: int32
        isbn:
          type: string
        book_type:
          type: string
        title:
          type: string
        year:
          type: integer
          format: int32
        available:
          type: string
          format: date-time
        tags:
          type: string
    booksBooksByTagsRow:
      type: object
      properties:
        book_id:
          type: integer
          format: int32
        title:
          type: string
        name:
          type: string
        isbn:
          type: string
        tags:
          type: string
    
